RewriteEngine On
RewriteBase /

# Redirect requests to /books to /books/ to avoid relative path issues
RewriteCond %{REQUEST_URI} ^/books$
RewriteRule ^(.*)$ $1/ [R=301,L]

# Rewrite requests starting with /books/ to books.php
RewriteCond %{REQUEST_URI} ^/books(/.*)?$
RewriteRule ^books/(.*)$ books.php/$1 [QSA,L]
